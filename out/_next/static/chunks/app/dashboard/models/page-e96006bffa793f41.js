(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[516],{88:(e,t,a)=>{"use strict";a.d(t,{d:()=>l});var s=a(5155);a(2115);var r=a(4884),i=a(3999);function l(e){let{className:t,...a}=e;return(0,s.jsx)(r.bL,{"data-slot":"switch",className:(0,i.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,s.jsx)(r.zi,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}},1013:(e,t,a)=>{Promise.resolve().then(a.bind(a,8019))},1154:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1539:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},2525:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2714:(e,t,a)=>{"use strict";a.d(t,{J:()=>l});var s=a(5155);a(2115);var r=a(968),i=a(3999);function l(e){let{className:t,...a}=e;return(0,s.jsx)(r.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},4616:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7924:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8019:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var s=a(5155),r=a(7365),i=a(2188),l=a(2115),d=a(7168),n=a(8482),o=a(9852),c=a(2714),u=a(8145),m=a(88),x=a(1154),p=a(4616),h=a(3314),v=a(9397),g=a(1539),f=a(7924),j=a(381),y=a(2525),b=a(9840),N=a(5784),w=a(1886),A=a(3580);function k(){let[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)(!0),[i,k]=(0,l.useState)(""),[M,_]=(0,l.useState)(!1),[C,E]=(0,l.useState)({id:"",name:"",provider:"openai",type:"chat",apiKey:"",baseUrl:""}),[S,L]=(0,l.useState)(null),[R,z]=(0,l.useState)(null);(0,l.useEffect)(()=>{F(),I()},[]);let F=async()=>{try{r(!0);let e=await w.u.getModels();if(e.success&&e.data){let a=e.data.data.map(e=>{let t="unknown",a="chat",s=0,r="0ms";return e.ollama?(t="ollama",a="text-generation",s=Math.floor(1e3*Math.random()),r="".concat(Math.floor(100*Math.random()),"ms")):e.arena?(t="arena",a="arena",s=Math.floor(5e3*Math.random()),r="".concat(Math.floor(200*Math.random()),"ms")):"openai"===e.owned_by&&(t="openai",a="text-generation",s=Math.floor(2e3*Math.random()),r="".concat(Math.floor(150*Math.random()),"ms")),{...e,provider:t,status:"active",type:a,requests:s,latency:r,user_id:e.user_id||"system",params:e.params||{},meta:e.meta||{},access_control:e.access_control||null,updated_at:e.updated_at||e.created,created_at:e.created_at||e.created}});t(a)}else(0,A.oR)({title:"Error",description:e.error||"Failed to fetch models",variant:"destructive"})}catch(e){console.error(e),(0,A.oR)({title:"Error",description:"Failed to fetch models",variant:"destructive"})}finally{r(!1)}},I=async()=>{try{let e=await w.u.getOpenAIConfig();e.success&&L(e.data);let t=await w.u.getOllamaConfig();t.success&&z(t.data)}catch(e){console.error("Failed to fetch configurations",e)}},O=e.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.provider&&e.provider.toLowerCase().includes(i.toLowerCase())||e.id.toLowerCase().includes(i.toLowerCase())),U=async e=>{try{let a=await w.u.toggleModelStatus(e);a.success?(t(t=>t.map(t=>t.id===e?{...t,status:"active"===t.status?"inactive":"active"}:t)),(0,A.oR)({title:"Success",description:"Model status updated successfully"})):(0,A.oR)({title:"Error",description:a.error||"Failed to update model status",variant:"destructive"})}catch(e){(0,A.oR)({title:"Error",description:"Failed to update model status",variant:"destructive"})}},q=async e=>{try{let a=await w.u.deleteModel(e);a.success?(t(t=>t.filter(t=>t.id!==e)),(0,A.oR)({title:"Success",description:"Model deleted successfully"})):(0,A.oR)({title:"Error",description:a.error||"Failed to delete model",variant:"destructive"})}catch(e){(0,A.oR)({title:"Error",description:"Failed to delete model",variant:"destructive"})}},P=async()=>{try{var e,t;let a={id:C.id||"".concat(C.provider,"-").concat(Date.now()),name:C.name,base_model_id:null,meta:{provider:C.provider,type:C.type,api_key:C.apiKey,base_url:C.baseUrl||("openai"===C.provider?(null==S?void 0:null===(e=S.OPENAI_API_BASE_URLS)||void 0===e?void 0:e[0])||"https://api.openai.com/v1":(null==R?void 0:null===(t=R.OLLAMA_BASE_URLS)||void 0===t?void 0:t[0])||"http://localhost:11434")},params:{},is_active:!0,access_control:null},s=await w.u.createNewModel(a);s.success?(await F(),_(!1),E({id:"",name:"",provider:"openai",type:"chat",apiKey:"",baseUrl:""}),(0,A.oR)({title:"Success",description:"Model added successfully"})):(0,A.oR)({title:"Error",description:s.error||"Failed to add model",variant:"destructive"})}catch(e){(0,A.oR)({title:"Error",description:"Failed to add model",variant:"destructive"})}},K=async e=>{try{var t,a;let s;"openai"===e?s=await w.u.verifyOpenAIConnection({url:C.baseUrl||(null==S?void 0:null===(t=S.OPENAI_API_BASE_URLS)||void 0===t?void 0:t[0])||"https://api.openai.com/v1",key:C.apiKey}):"ollama"===e&&(s=await w.u.verifyOllamaConnection({url:C.baseUrl||(null==R?void 0:null===(a=R.OLLAMA_BASE_URLS)||void 0===a?void 0:a[0])||"http://localhost:11434",key:C.apiKey})),(null==s?void 0:s.success)?(0,A.oR)({title:"Success",description:"".concat(e," connection verified successfully")}):(0,A.oR)({title:"Error",description:(null==s?void 0:s.error)||"Failed to verify ".concat(e," connection"),variant:"destructive"})}catch(t){(0,A.oR)({title:"Error",description:"Failed to verify ".concat(e," connection"),variant:"destructive"})}};return a?(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)(x.A,{className:"w-8 h-8 animate-spin"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold neon-text mb-2",children:"AI Models"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage and configure your AI model integrations"})]}),(0,s.jsxs)(b.lG,{open:M,onOpenChange:_,children:[(0,s.jsx)(b.zM,{asChild:!0,children:(0,s.jsxs)(d.$,{children:[(0,s.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Add Model"]})}),(0,s.jsxs)(b.Cf,{children:[(0,s.jsxs)(b.c7,{children:[(0,s.jsx)(b.L3,{children:"Add New Model"}),(0,s.jsx)(b.rr,{children:"Configure a new AI model integration"})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{children:"Model ID"}),(0,s.jsx)(o.p,{placeholder:"Enter model ID",value:C.id,onChange:e=>E({...C,id:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{children:"Model Name"}),(0,s.jsx)(o.p,{placeholder:"Enter model name",value:C.name,onChange:e=>E({...C,name:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{children:"Provider"}),(0,s.jsxs)(N.l6,{value:C.provider,onValueChange:e=>E({...C,provider:e}),children:[(0,s.jsx)(N.bq,{children:(0,s.jsx)(N.yv,{placeholder:"Select provider"})}),(0,s.jsxs)(N.gC,{children:[(0,s.jsx)(N.eb,{value:"openai",children:"OpenAI"}),(0,s.jsx)(N.eb,{value:"ollama",children:"Ollama"}),(0,s.jsx)(N.eb,{value:"arena",children:"Arena"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{children:"Base URL"}),(0,s.jsx)(o.p,{placeholder:"openai"===C.provider?"https://api.openai.com/v1":"http://localhost:11434",value:C.baseUrl,onChange:e=>E({...C,baseUrl:e.target.value})})]}),"openai"===C.provider&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{children:"API Key"}),(0,s.jsx)(o.p,{type:"password",placeholder:"Enter API key",value:C.apiKey,onChange:e=>E({...C,apiKey:e.target.value})})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(d.$,{variant:"outline",onClick:()=>K(C.provider),children:"Verify Connection"}),(0,s.jsx)(d.$,{onClick:P,children:"Add Model"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,s.jsx)(n.Zp,{className:"glass border-primary/20 p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Models"}),(0,s.jsx)("p",{className:"text-3xl font-bold mt-1",children:e.length})]}),(0,s.jsx)(h.A,{className:"w-8 h-8 text-primary"})]})}),(0,s.jsx)(n.Zp,{className:"glass border-primary/20 p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Models"}),(0,s.jsx)("p",{className:"text-3xl font-bold mt-1",children:e.filter(e=>"active"===e.status).length})]}),(0,s.jsx)(v.A,{className:"w-8 h-8 text-secondary"})]})}),(0,s.jsx)(n.Zp,{className:"glass border-primary/20 p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Requests"}),(0,s.jsx)("p",{className:"text-3xl font-bold mt-1",children:e.reduce((e,t)=>e+(t.requests||0),0)})]}),(0,s.jsx)(g.A,{className:"w-8 h-8 text-accent"})]})})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(f.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,s.jsx)(o.p,{placeholder:"Search models...",value:i,onChange:e=>k(e.target.value),className:"pl-10 glass border-primary/20"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:O.map(e=>(0,s.jsx)(n.Zp,{className:"glass border-primary/20 p-6 hover:border-primary/40 transition-all group",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"p-3 glass rounded-lg border border-primary/30 group-hover:border-primary/50 transition-all",children:(0,s.jsx)(h.A,{className:"w-6 h-6 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.provider," • ",e.owned_by]}),e.ollama&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[e.ollama.details.parameter_size," • ",e.ollama.details.quantization_level]})]})]}),(0,s.jsx)(u.E,{variant:"active"===e.status?"default":"secondary",className:"active"===e.status?"bg-primary/20 text-primary border-primary/30":"",children:e.status})]}),e.ollama&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 py-2 border-y border-border/50 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Size"}),(0,s.jsxs)("p",{className:"font-medium",children:[(e.ollama.size/1024/1024/1024).toFixed(2)," GB"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Family"}),(0,s.jsx)("p",{className:"font-medium",children:e.ollama.details.family})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 py-4 border-y border-border/50",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Type"}),(0,s.jsx)("p",{className:"text-sm font-medium mt-1",children:e.type})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Requests"}),(0,s.jsx)("p",{className:"text-sm font-medium mt-1",children:(e.requests||0).toLocaleString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Latency"}),(0,s.jsx)("p",{className:"text-sm font-medium mt-1",children:e.latency})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.d,{checked:"active"===e.status,onCheckedChange:()=>U(e.id)}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"active"===e.status?"Enabled":"Disabled"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.$,{size:"icon",variant:"ghost",className:"hover:bg-primary/10",children:(0,s.jsx)(j.A,{className:"w-4 h-4"})}),(0,s.jsx)(d.$,{size:"icon",variant:"ghost",className:"hover:bg-destructive/10 text-destructive",onClick:()=>q(e.id),children:(0,s.jsx)(y.A,{className:"w-4 h-4"})})]})]})]})},e.id))})]})}function M(){return(0,s.jsx)(r.q,{children:(0,s.jsx)(i.N,{children:(0,s.jsx)(k,{})})})}},8145:(e,t,a)=>{"use strict";a.d(t,{E:()=>n});var s=a(5155);a(2115);var r=a(9708),i=a(2085),l=a(3999);let d=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:a,asChild:i=!1,...n}=e,o=i?r.DX:"span";return(0,s.jsx)(o,{"data-slot":"badge",className:(0,l.cn)(d({variant:a}),t),...n})}},9397:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},9840:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,Es:()=>x,L3:()=>p,c7:()=>m,lG:()=>d,rr:()=>h,zM:()=>n});var s=a(5155);a(2115);var r=a(5452),i=a(4416),l=a(3999);function d(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"dialog",...t})}function n(e){let{...t}=e;return(0,s.jsx)(r.l9,{"data-slot":"dialog-trigger",...t})}function o(e){let{...t}=e;return(0,s.jsx)(r.ZL,{"data-slot":"dialog-portal",...t})}function c(e){let{className:t,...a}=e;return(0,s.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function u(e){let{className:t,children:a,showCloseButton:d=!0,...n}=e;return(0,s.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,s.jsx)(c,{}),(0,s.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[a,d&&(0,s.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(i.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function x(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function p(e){let{className:t,...a}=e;return(0,s.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",t),...a})}function h(e){let{className:t,...a}=e;return(0,s.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",t),...a})}}},e=>{var t=t=>e(e.s=t);e.O(0,[817,796,150,641,62,56,576,123,441,684,358],()=>t(1013)),_N_E=e.O()}]);